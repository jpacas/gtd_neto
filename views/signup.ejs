<div class="max-w-md mx-auto bg-white border rounded-xl p-5">
  <h2 class="text-lg font-semibold">Crear cuenta</h2>
  <p class="text-sm text-slate-600 mt-1">Registra tu usuario para usar GTD_Neto.</p>

  <form method="POST" action="/auth/signup" class="mt-4 space-y-3" id="signupForm">
    <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
    <div>
      <label for="signup-email" class="text-xs text-slate-500">Email</label>
      <input id="signup-email" type="email" name="email" required autocomplete="email" class="w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500" />
    </div>
    <div>
      <label for="signup-password" class="text-xs text-slate-500">Contraseña (mínimo 6 caracteres)</label>
      <input id="signup-password" type="password" name="password" minlength="6" required autocomplete="new-password" class="w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500" />
    </div>
    <button type="submit" id="signupBtn" class="w-full rounded-lg bg-blue-600 text-white px-4 py-2 hover:bg-blue-700 transition-colors">Crear cuenta</button>
  </form>

  <script nonce="<%= cspNonce %>">
    document.getElementById('signupForm')?.addEventListener('submit', function(e) {
      const btn = document.getElementById('signupBtn');
      LoadingManager.show(btn);
    });

    setupFormValidation('signupForm', {
      email: {
        required: true,
        email: true,
        requiredMessage: 'El email es requerido',
        emailMessage: 'Por favor ingresa un email válido'
      },
      password: {
        required: true,
        minLength: 6,
        requiredMessage: 'La contraseña es requerida',
        minLengthMessage: 'La contraseña debe tener al menos 6 caracteres'
      }
    });
  </script>

  <div class="mt-4 text-sm text-slate-600">
    ¿Ya tienes cuenta?
    <a href="/login" class="text-blue-600 hover:underline">Inicia sesión</a>
  </div>
</div>
